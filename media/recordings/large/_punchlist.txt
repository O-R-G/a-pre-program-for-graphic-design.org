+ add open-records-generator
+ resolve localhost virtual hosting (requesting https in .htaccess)
+ add views/object.php
x add views/films.php views/exhibitions.php views/live.php
x logo match o.g. size?
+ add contents to open-records-generator
+ cube.js
    A.  switch .f1 => .f2
    B.  update .f1, .f2, .f3, .f4, .f5, .f6 css transformations
        function update(x,y,z)
        maintains state
        use gyro serverdial logic to feed update
+ cube.css
    A.  #cube div  transition: transform 1s;
        #cube .f1  rotateY(0deg);
        #cube .f2  rotateY(90deg);
    B.  #cube div  transition: transform 1s;
        #cube .f1  rotateY(0deg);
        #cube .f2  rotateY(90deg);
        #cube .f3  rotateY(180deg);
        #cube .f4  rotateY(270deg);
        #cube .f5  rotateX(90deg);
        #cube .f6  rotateX(-90deg);
+ clean up update_cube(degrees) w/ array and loop
x cube offset geometry
+ simplify cube logic
  https://paulrhayes.com/animated-css3-cube-interface-using-3d-transforms/
+ add eventlistener to update degrees dynamically
+ connect cube to gyroscope
+ gyroscope logo
    uses serverdial logic to change positions of r, g, b logos to equal white
    or logic from o-r-g clock
x rotate on center axis? make another url like /axis to try it
+ add images to docket
+ add touch event (swipe left, right) to cube
+ add menu clickhandler and display
+ menu.php
+ /logo isolate blending
+ show full menu debug, depth traverse nav debug
+ separate menu.css
+ fix update date on click
+ swap in "Institute of ..." on click
+ add screenfull to images (see all-collected...)
x menu arrow?
/ add in formation contents
x sql query for date ranges
+ php logic for date ranges
+ css selectors debug
+ css debug menu mobile
+ add rotate buttons mobile
+ ladder mixing categories (build array sorted by date) (docket.php) (usort)
+ ladder css cleanup
+ ladder display control
+ img css debug
x feeds
/ add rgb hamburger menu on docket, switches to logo on menu
+ css fontsquirrel grotesque, ocrb
+ isolate lanes
+ exhibitions page
+ logo demo with lighter colors
+ exhibition detail page
x web app manifest, caching, status bar
x git branches background and no background
x penrose triangle as 3d 'cube'
+ fix hard-coded docket id in docket.php
+ new database
+ new git repo @ https://github.com/O-R-G/dev.ica.art
+ replace triangle with hamilton logo
+ add robots.txt
+ white title type
+ adjust click on object behavior
+ add contents
+ add htpasswd protect
+ fix fullscreen classing, maybe nest extra div or else fullscreen img only
+ add hamburger menu
+ smaller large type
+ move title type up the screen?
+ css for floaters, contain them in one img container
  and then alter markup per image inline as per wattis, k.m etc
+ cmr typewriter italic
x date range hard coding in docket.php fix
+ resolve url / docket id hardcoding (k.m, modernart)
  either hardcoded id, separate mysql query, or mysql sub query
  hardcoded id is lowest cost, but could confirm it with a validation? how?
  moving all to the root of o-r-g is cleanest and gives best urls
  category selector ignores objects starting with _
+ ** add image container id to contain all images **
+ wysiwig html editor in open-records-generator
x css style sheets to follow drupal theme organization scheme
  https://www.drupal.org/docs/develop/standards/css/css-architecture-for-drupal-8
+ pdf cover images
  alternately try this:
  https://arjunphp.com/convert-pdf-jpeg-php/
  simplest is probably extra child record with cover image and pdf
  if img type is pdf, then look for next img as cover
  if dont find it, display generic pdf cover
/ view/exhibition.php view in docket is *really* a separate view and should be broken out
  for now, it is just using if ($showall) as a tester when the times come to display ladder or cube
  but would be better to break this out as its own view
+ css
+ refine title type, black / white etc
+ css for image gallery, all pdfs same size, all vids same size
+ under construction manifesto work-in-progress
x hamburger
/ open-records-generator wysiwig css
  fix the href=#null problem by replacing with onclick
+ rearrange info in item
x wave?
+ resources described?
+ exhibition guide page
+ links red for now
/ link color css logic
  clean up all css
+ target to jump down to resources
+ X / arrow ? phone / desktop
+ text column min-width
+ in development note
+ factor menu.js + dev.js > dev.js
x x css glow / shadow
+ ICA logo desktop / mobile
+ dev text into o-r-g
x include vidminified.js?
+ remove event listener for arrows !
+ color images in exhibition guide
+ rm js movie loading
+ production and live sites on server
  > dev.ica.o-r-g.com
  > staging.ica.o-r-g.com
+ seth price studio vimeo settings
+ funders logos
+ pdf png array so can shuffle $media
+ pdf & video scaling in resource gallery
x reinstate fullscreen?
x other waiting gifs
+ autoplay videos
+ video captions spacing
+ move funders logos to new div
+ resources overlap phone
x resources link phone
+ run ica-backup.sh
x #dev
  divide into 2 messages, one for each one on click?
  or just make it work better on phone
/ cron job backup --> ica-backup.sh (mysqldump not working with password)
/ debug video autoload, break out script
/ check google analytics
+ factor out random thumbnails $thumbs_count in docket.php
+ rm password, go live
/ ica-backup
  cp to staging by using ica-backup.sh and then expanding that and
renaming the dir to staging.ica.o-r-g.com? only problem is that this includes the config and would be better to do it with git for code and media and sql as separate tasks probably
x video autoplay safari cancels workaround?
https://stackoverflow.com/questions/46444058/vimeo-video-autoplay-not-working-in-safari-11
https://developer.vimeo.com/apis/oembed
+ fix grotesque, ocrb font loading
+ favicon
* dev-dots respond to accelerometer?
+ add categories
    exhibitions
    films
    talks & learning
    events
+ database duplicate for development
+ codebase branch
+ thumbs logic
+ films image fadein (css)
x fix ladder url links
x default to ladder view
+ institutional page setup
x talks and learning category logic
+ red, green, blue, white categories
+ category name logic cleanup
+ institute menu
+ design.ica.o-r-g.com
+ implement markdown in views/docket
+ color / $category_name logic
+ title types
+ ladder / cube controls
+ github ssh key for design.ica.o-r-g.com (set origin to ssh, not https!)
x mirror open-rec-generator changes to design.ica.o-r-g.com
+ views/logo.php
/ views/menu.php logic
+ design.ica.o-r-g.com db to localhost
+ views/logo css centering
* views/logo-dev
+ second level institute pages
+ transition to institute page?
x blur cube faces? or animate fade-in?
+ phone, default ladder
+ ladder colors
+ ladder fix colors, urls
+ mobile colors, css? ladder debug on physical phone
+ menu
  images
  transition
+ fix dates on docket, show only start end if diff
x event times (hidden for now)
+ dom casual (update set including ttf, eot, woff etc)
+ green
+ dev spotlight connect to work in progress note! on dev.ica.art
+ menu vertical, 1 column, left column (at 400 px right now)
x menu dev pick illusion from record rather than collection
+ menu / dev debug, add query to link to force browser to update
+ same for css
+ menu.css cleanup
+ exhibitions, films, events, live headers (desktop) (views/docket.php display)
  fix headlines css references in views/docket.php w/ category lookup logic
+ get rid of inmages in portfolio number 1
+ change category names in open-rec-gen (design.ica.o-r-g.com)
  exhibitions, films, events, live
+ no repeating of months 1 December - 14 December
+ arrow or X takes back one page not to home?
  ?menu read in index.php then used to hide show menu & docket
x solid color backgrounds?
+ docket colors
+ docket detail head type sizes
+ docket title typesizes
+ arrow always goes home to docket
+ illusions dont shuffle
+ illusion line weights
* events type ds elzevir?
+ on menu: no X top right, X bottom right replaces logo
+ ICA to a white X when the menu is visible
+ x or arrow still not correct, for ex second level menu pages go back?
  interaction design flaw in the way that the logo and X work together
+ js/dev.js throws a js error, looking for a div that isnt there **
+ menu css
+ seth price archive
+ mail seth price studio re vimeos
+ fix vimeo embeds add css class fourxthree
+ docket hide objects w/ .
+ docket date range logic
+ view/exhibitions
  when date has passed, automatically switches
  hacked version working for now
+ docket columns css (wide errors)
+ forensics images
x forensics type
+ css title container width mobile
x date breaks mobile
+ category names on mobile
+ seth resources page link under archive
  include sponsors on archive page
  include pdf link on archive page
+ "opening ... " dates on docket
+ show other category titles
+ gif format adjust
+ reverse docket order in archive view
x /films etc say go to regular site or display _dev message
+ backup staging database and media to localhost
+ add films, events live to phone
+ films events live
+ merge design branch
+ uncomment google analytics
+ stage live
+ add blur branch, blur controls
+ polina
/ nitzan herman
Happy to engage in a smaller
thinking sprint, and in the interest of promoting that happening I can offer a lowered
rate. $150 PH, or $1100 for the day (8 hours). I am also open to thinking of a set up
where I help as the development and new needs arise, so on–going rather than
concentrated. If that seems helpful on your end.
+ blur! on pickup phone
x nitzan herman contact
x ticketing alternatives
  spektrix
  razors edge
+ polina?
/ open-records-generator
  heroku
  wysiwyg
  preview
  could "enter" always update the record?
  maybe if click out of editing field ...
  better, use "command enter" to commit
+ illusion line weights, illusions
+ illusions at top of each menu subpage?
x css class for iframe + div (div immed following ifram)
  for captions on seth price archive
x blur triggered by accelerometer?
x light show #1 as its own entry in LIVE
x richard maxwell, added as an event linked to existing ticketing site
x michele kuo on seth price
  https://www.dropbox.com/s/tf4u15by26xtw5q/Auerbach.zip?dl=0

--

x ticketing alternatives
  spektrix
  razors edge
  acme
+ three ways to connect to patronbase
  1. RSS -- https://uk.patronbase.com/_ICA/Productions/RSS
  2. XML -- https://uk.patronbase.com/_ICA/Productions/XML
  3. API -- curl https://uk.patronbase.com/_ICA/API/v1/Productions/Feed \
     -H "X-PatronBase-Api-Key:d73e6ac69f9ad58a2bced324d0c7e8f56d85e0b8"
+ patronbase api
  https://uk.patronbase.com/_ICA/Admin/API
  user: SBB
  pass: p@ssword
+ connect to api and get json response
+ staged icaartdb_local on localhost and look around
  users are all in this database pretty easily
  there are tables for commerce, but i dont immediately see
  where the films (productions) are which is something else
+ using exsiting drupal test site
  https://icatest.tincan.co.uk/user
  can set up custom views as rss feeds (!)
  this may in the end be the temporary solution
  as these seem to come through
  https://icatest.tincan.co.uk/dev-rss
  https://icatest.tincan.co.uk/dev-rss.xml
+ set up new drupal view as an rss feed
  https://icatest.tincan.co.uk/dev-rss
  see https://drupal.stackexchange.com/questions/70994/how-to-create-an-rss-xml-feed-on-my-drupal-7-site
+ how to add rss feeds to drupal
  see https://www.drupal.org/node/2426139
+ or use existing "what's on" feed here (not so rich)
  https://icatest.tincan.co.uk/feeds/whatson.xml
+ find good rss reader
+ php xml parser and add films to design.ica.o-r-g.local
+ rss is a subset of xml, atom a subset of rss
+ better to do this through drupal or through patronbase?
  most likely the latter, but could be a phased implementation
+ phased plan -- april 1, status quo on backend
  existing drupal site migrated to new server
  site goes live in new state
  tin can relieved
+ either get the rss from patronbase or get it from drupal
  * if from patronbase, it comes with more ticketing info
  * if from drupal, then it comes with rich listings
+ rss integrate in views/docket?
  right now in separate views/rss
  and likely a good idea to parse out docket into discrete views
+ rss films detail pages
+ better (cleaner, richer) rss feed from drupal (see ref links above)
  look into rss display styles in drupal
+ backup design.ica.o-r-g.com database as it has the menu
+ how to properly checkout a git branch, and then switch on staging
  https://gist.github.com/markSci5/5916003
x stage design.ica.local
+ stage drupal ica backup site local
+ build dynamic urls for films or any rss content
+ drupal json working, installed views datasources module plugin
  (on localhost) and it serves up a nice clean json feed of whatever req'd
  at a clean url endpoint: https://localhost/dev-json
  (needs to happen over https://)
x views/json.php clean up processing of the .json feed
  in one function: function process_json($json)
+ process dates function views/json.php
x create two separate json endpoints, one for docket, one for detail
  detail feed would use the date and specific nid likely
  or maybe one for films, one for events, one for live?
+ find corresponding drupal page which has what is needed and adjust
  that to output a json view at a specific url
+ detail view json with all correct data
  make notes, collect fields in a view, then display as json
* working in drupal views:production listing by day which revealed
  how to deal with and get the book now link cleanly
* full list of drupal fields at /admin/reports/fields
* can also use Global: text and insert machine field names
* perhaps using Content: Path is going to be useful to write that to url
  after the fact for a clean, canonical url
* likely the dates are served on patronbase, but tbd
+ ok, while we're on it i?d say it?s worth considering having the guide
on the main seth page now rather than resources ? seems a different
degree of resource and more native to the show than the annex.
+ remove $node_index logic, using nid now
+ /dev-json-docket (drupal endpoint)
  venue to split for events, live
  separate displays and urls for films, events, live?
  or sort the json return based on results
  process and build arrays in php or fetch 3 diff json
  faster all in one json, sorted by venue and then by run date
  but simpler if three different json feeds
+ /dev-json-detail (drupal endpoint)
  parses full url, converts to nid, and returns result
  result can have multiple rows, and just cycle through
  for now, all multimedia in one row
+ url rewrite = pass path to new page and use to retroactively
  php processes url and serves corresponding view
  http://dev.ica.local/films/ + path (from drupal)
  ** working with nid, but not yet with full page name alias **
  uses two drupal modules, views_datasources and views_url_path_arguments
  provides json enpoint using convertsa drupal url to a drupal nid (node id)
  adjusted views_url_path_arguments module to parse "whats-on/the-event-name"
+ ref by title with contextual filters in drupal view
+ rename views_url_path_arguments module and reinstall
+ work out $json_host logic between views/json.php and views/docket.php
+ stage drupal dev-json view on icatest, then add it to production site
+ build reliable list of categories in views/docket to resolve urls
  this is localized to views/drupal, however
  better to break out views determined by index
  then there would be no need for $showall, a consistent problem
  get the name from mysql, correspond to named csso
/ add performances, which likely requires a relationship
  or some other filtering method in Views: Performance Listing
/ add multimedia rows as relationships in drupal view
+ review patronbase api -- fields may already exist for trailer and logos
+ shopify review
+ views/docket roots and color logic overhaul
/ image zoom (click on, off)
+ o-r-g images debug (css, php)
+ o-r-g sticky toolbar fix (js-->css)
- blur transition currently in static/js/dev.js
  should transition to js/menu.js or logo.js
  first, set what property transitions and time
  then actually change that value (likely with js)
  this is currently lazy, could be done much better
- docket date range logic overhaul to mysql
  or combo of mysql and DateTime() php object
  maybe even break out separate views as separate .php
- function date_compare($a, $b) fix
+ docket --> isolate views
  + head (x & title)
  + docket
  + detail
    + $showall logic
    + $exhibitions logic
+ fix json_display call logic in views/docket
+ fix logic views/title
+ illusion menu width
+ join the Friends of the ICA width
+ views/x-or-arrow
+ rm views/title
x detail view organization
+ adjust ordering of items in views/json display_json
/ correct items showing on docket!
  in process!
+ season?
x display: flex layout overhaul
+ clean up filmss in css
+ reconcile views/json with views/docket displayChild()
/ server-side architecture
  + old.ica.art
  + tincan
  + backup existing db
  + organize / file backups
  + stage updated drupal local
  + install icadb local
  + implement views json on live site
    + /json-all
    + /json-films
    + /json-events
    + /json-live
    + /json-detail
  + update design.ica.o-r-g.net
  + design.ica.o-r-g.net to use dev.ica.art db
  + www.ica.art remains for now
  + update media/ design.ica.local and design.ica.o-r-g.net
  + menu viewable on design.ica.o-r-g.net
  x localhost https & certificates
  x drupal.ica.o-r-g.net update
  x dev.ica.o-r-g.net --> digital ocean
  x dev.ica.art dns
  x drupal tincan speed -- possibly cache json local
  + drupal db update on drupal.ica.o-r-g.net (missing media)
  + design.ica.o-r-g.net draws from two sources of truth
    1. dev.ica.art
    2. www.ica.art
  >> - cache json feeds local?
    https://gist.github.com/ScottPhillips/3139774
  + cloudflare
  - mysql for dev.ica.o-r-g.com is on design.ica.o-r-g.com
  - json caching etc
* patronbase
  x voucher
  x fees
  + errors
  / members
  / tickets
  / members
    >> - 16.99/month
  / seasons
  / shop
  - stripe
  / esecure directdebit
+ connect to patronbase in views/detail
  https://ica.betaweb.patronbase.co.uk/
- live patronbase urls
  tickets: https://ica.web.patronbase.co.uk/
  memberships: https://ica.web.patronbase.co.uk/members
  seasons: https://ica.web.patronbase.co.uk/seasons
+ connect members
+ drupal /json-detail validator logic review
  + Validate URL path alias module takes a path as argument, returns Nid
  + Validate URL path alias o-r-g module adds "whats-on/" to argument
  + footer for debugging
  x review how done on other regular pages, like films etc
  x need to understand contextual filters better
  + seems like dont even need Validate URL path alias o-r-g
    only contextual filter of Content: Nid
x multimedia field break on separator
+ multimedia field output as html (remove plaintext option in json settings)
+ strip json to plaintext or leave in html set per field
+ fix $json_detail_show logic in views/docket views/detail
+ views/detail
* design review (stefan, stuart, richard, katherine)
  + second column desktop, continued issues
    film seondary materials (imgs, trailers) always to right-hand side
  + complicated entries such as short course, colons, etc
    how to articulate an item when part of a season
+ views/docket cleanup switch case structure
+ talks & learning, show o-r-g as well as drupal content unless names match
+ mobile (ladder)
+ r g b menu colors
+ adjust sizes ocr, ital talks and learning
+ "Currently there are no upcoming *live* events. Please check back soon."
+ adjust json-live
+ design.ica.local switch to local sources, longer cache time
+ review json caching logic
+ docket continues until exhausted
+ rm 0 before 24-hour time views/docket /detail
+ add season: 20 april FoR season
+ turn off cloudflare
+ json expires back to 2 hours
+ rough /json-seasons enpoint
+ fix views/json request timing out if in o-r-g like FoR
+ remove first phrase before colon $page_name
+ views/detail
  + youtube embed sizing css
  + rm youtube title above
  + rm youtube title on player
  x collapse line returns in $colophon
+ views/detail cleanup drupal line returns <p> styling
+ sticky footer css flexbox
  https://css-tricks.com/couple-takes-sticky-footer/
  almost works, but the X does not remain clickable so stopped for now
+ terms & conditions
+ social
+ arts council
+ views/detail drupal date fix ** MAJOR **
  + production > performance
                 performance
                 performance
                 ...
  + production has multimedia detail, performance has time and ticketing
  + json drupal queries return performances *or* productions so url like
/on/gentle-creatures can only be used with node id contextual filter to
reference a production, not an individual performance. cannot reference
a performance by nid as there is no key to pathname, instead would be
ref'd with a performance # string. solution is that that the page
/on/gentle-creatures can list performances, or just link to patronbase
to choose performances.
+ patronbase
  + url scheme
    https://uk.patronbase.com/_ICA/Productions/4ME/Performances
    https://ica.betaweb.patronbase.co.uk/performances?P
rodID=53
  + relationship between productions and performances in the query
  / fix logo (rm menu, back to main site)
  / database daily update
  / red membership always first
+ sponsors to views/detail
+ "promoted"? -- seasons sort first
+ more films, talks, etc
/ seasons logic expand to collect seasons items
  ? match on name
  ? match on drupal seasons flag
+ /exhibitions
  /films
  /talks
  /live
+ #social mobile positioning fix
/ footer menu hide/show
  currently in dev.js, but should be elsewhere
x .gitignore caching? / digital ocean setup
+ drupal views date contextual filter
+ views/docket corrections to work w/ dates and date ranges
  x caching of diff dates (append dates to filenames)
  x show a month
  x url formats should match? or at least YYYY-DD-MMo?
  + contextual filter with date range for events, live
+ views/detail not working for o-r-g items
  due to url[1] checking
x drupal notes -> onsale
+ views/detail sniff contents of multimedia and parse (regex?)
+ docket dates interface
/ experimental date picker
+ learning fonts
  lydian
  zapf chancery
  mtdbt2f
+ additional homepage image (random film, learning, live)
+ adjust time function to account for GMT? (always gets servertime)
+ more? goes to next date
+ what happens on mondays? show tuesday's films?
  with a message that says no monday films
  change 'upcoming' message to 'today'
+ views/detail no trailer img not clickable
+ learning font
+ push / pull .do
+ /films, /learning, /live all entries need images (!!)
  + use date ranges
  / specific json feeds as productions not performances
  / if o-r-g entry, still show image?
/ seasons highlight other seasons events
- cleanup date_compare functions in views/docket
  does it even use these now?
  yes, but be clear about how it relates to drupal cont. filters
- catch repetitive entries o-r-g and drupal

** back-end **

- move o-r-g database? (include local/remote access)
- cloudflare
- fix regex in open-rec-gen/views/edit.php
  review what is currently js & what needs to be
  better to do as much as poss in php
- update local drupal database and config (download from tin can)
- resolve media folders sync on dev and design
  diff, then redirect one to the other
+ json caching by date?

** as of skype april 30 **

+ https://docs.google.com/spreadsheets/d/1S8izACtmQWPg_0ftc_WViSncnL0-evksyB6BBLAb0MI/edit#gid=0
+ views/docket
  + how to highlight event on home page
  + homepage : show every upcoming film from link
    + replace Next... with See all... (?)
    / per column?
  x films w/Q+A should appear on talks and learning?
  + all ARTISTS FILM CLUB should be under Films
    + rm AFC from talks and learning json, add to films
  + 2 May The Machine That Kills Bad People is AFC
    + currently *both* AFC and event, drupal then filters out AFC
  + fix forensics redundant events (rm from o-r-g or filter)
    + drupal *both* events and live/performance
    + drupal filters out events that are also live/performance
      but still works on legacy site
  + dates to new format -- Wed 13 Apr except for date ranges
    revise date range logic in display_child
+ global
  + seasons
    x individual events should be seasons in drupal
    ? ** no individual events in o-r-g **
    + if season /film, then FILM FESTIVAL
      if season /learning then WORKSHOPS
  + terms and conditions
    x move elsewhere
    x terms and conditions is too prominent
    + add visit
  + ICA logo not obvious enough to get to menu
    animate? slow burn in, fade out, maybe blur?
  + date picker
    + arrows for time navigation, how on the phone
      click on date *also* shows arrows
  + GREEN not so bright (stuart newsletter?)
  + newsletter signup on homepage
    + how works on existing site?
      <iframe> --> https://icalondon.wufoo.com/embed/w12ow9rp0x70lop/
  + footer css
+ cacheing
  + set up folder structure on design-ica-do
  + cache category pages w/ date argument
+ views/catergory capitalization
+ show all ... (3 weeks)
+ mobile
  + two feeds: o-r-g & json
  + rewrite sql query to get items where 'begin +14 days' <= $date <= 'end'
  + get o-r-g, get json, then combine and sort (date_compare)
  + display one array of children, sorted
+ show_media_json logic to catch image repeats (views/json & views/children)
+ drupal ajax all json feeds?
+ views/docket
  + boost o-r-g items automatically to top in views/docket in $ladder
  + one day at a time
+ views/category
  + factor into one view (based on /exhibitions)
  + dedicated link top of page to /menu/1/about-the-ica/exhibitions
    + /menu/1/about-the-ica/exhibitions
    + /menu/1/about-the-ica/film
    + /menu/1/about-the-ica/talks-and-learning
    + /menu/1/about-the-ica/live
  + show image every item
  + title color, header color
  + date_compare and custom date logic
  + factor out json logic
  + drupal change /events to /learning
  + show all in category
  + factor out css
  + list only productions, not performances
  + intro text to side column
  + fix dates, rm times
    using $img flag in display_child
  + /learning fix listings (json?)
  + add $show_time boolean flag to views/children display_child
  + filter by year (match /exhibitions pattern)
  + cacheing, json entries
  + display_child links
+ seasons
  + id seasons items in json
  + /json-seasons takes a date range and returns seasons names
  + (only working when logged in, but likely to do with tincan site backup)
  + in views/docket and views/detail will match against this list
    to mark with * or to include link in the right column
  + * marks main season, repeated on affiliated events
  + animated spinning in proper color
  + disabled SQL rewriting on the view (query settings) and this works for me now (logged out):
    https://www.ica.art/json-seasons/2018-03-07--2018-04-07
  + seasons css
+ views/date-picker
  x search by artist, search by term?
  + merge
  + validate date strings
  + highlight edit field on focus
  + merge experimental-date-picker branch
  - arrow key goes to next day?
  - swipe on phone?
+ url dates parsing
  + resolve when count uri > 2
  + validate_date()
  + factor out query in views/date-picker
    url instead, such as /2018-09-05 or /tomorrow
+ mailing list (sign up)
  + iframe embed
    https://icalondon.wufoo.com/embed/mailing-list-dev-do-not-use/
+ views/arrow-or-x
    + ** bug ** chrome? when in MENU, go back should go back to menu
    + need to pass a persistent state variable (get or post? which? -- GET)
      seems that window.history.back() works diff in diff browsers
      and this will show the menu
    + history back js may *still* be the way to do this
    + attack dev.js and clean up, put it in menu.js instead or logo.js
      should deal with case of /?menu ($menu == TRUE) to hide / show
    + also what if come from /03-05-2018, then should go back to that
+ views/detail
  + learning doesnt need rating info
  + partner logo in learning bratton event
  + resources in second column? see imaginaries of the desert frames of representation pdf
  + new drupal multimedia fields agreed on with michael, brett, ariel
    -side-       right
    -credit-     mono small
    -caption-    mono small italic
  + implement -side- -credit- -caption- parsing in views/detail
  + fix drupal json /json-detail load time
  + add /json-detail multimedia label field
  + implement multimedia labels
  + views/detail drupal & parsing issues
  + seasons associations (side, blink)
  + https://www.ica.art/json-detail-performances/lean-pete
  + list all film times ? (collect only production, and then multiple performances)
  + based on drupal views performance listing
    just list performances with content production contextual filter
    use Content:nid contextual filter like in json-detail but instead collect performances
    WORKING! need to adjust urls for views/detail
  + add static/data/json-performances and set permissions
+ views/x-or-arrow : "host" works for local, but not on design.ica.o-r-g.net
+ static/css/dev-logo-menu : scroll to top when show menu
+ performances times only in order from now
+ views/date-picker : standardize url date formats (index?date=) or (?date=)
  + passing non-standard date formats in url and encoding of spaces
    https://stackoverflow.com/questions/1634271/url-encoding-the-space-character-or-20
  + right now using query also in views/date-picker which is populated via form (get)
    might try using post for this or just feeding a url
+ views/date-picker : opening animation show brackets, show text entry
+ julie becker, two weeks
+ patronbase q.a.
  + daily database updates and review
  + review in responsive mode and collect errors
+ learning, change json to one day only
+ The ICA is closed on Monday msg
+ "All films ..." in the correct color
+ seasons logic, fix to show greater range in past and future
+ /films etc category description (o-r-g)
+ /exhibitions show full year
x /films 'Until May 22'
+ date-picker edge cases x | -> with no date should always fill one in
+ date-picker cleanup
+ date-picker animation account for spaces in timing by collapsing spaces to next character
+ now / future mode switch
+ views/docket
  + default view shows everything
  + seasons, blink the type, rm pinwheel
  + View by day toggle shows one day at a time
+ /jsons
  + only from when site goes live date
  + include error saying see old site
  * $date_start = '2018-05-14'
+ views/category
  + only show may as a back month
  + adjust (or rm) indents
+ spell out month of date
+ views/category-sub (resource?)
  + add automated listings (as category views)
  x text on left, listing of events on right
  + /artists-film-club
  + /social-creative-network
  * json feed seems to work ok, bug in views/category
+ views/date-picker
  + view by day triggers animation
+ views/now-or-future
  + Today / Upcoming? Show today / Show all
+ https certificate digital ocean
  + https://archive.ica.art -> drupal-ica
  + https://ica.art -> drupal-ica
  + https://ica.art -> ica-art
  + tin can database dump
+ x-or-arrow debug when leave from /something and showing menu chrome specific
  add case for coming from a menu page
x spinner branch
+ today / all switch disappears on mobile
+ views/detail : parsing
  + multibuy, such as
    http://design.ica.local/on/learning/fluid-shu-lea-cheang-qa
  + https://www.ica.art/whats-on/guap-social-work
    http://design.ica.o-r-g.net/on/learning/guap-social-work
  + italics, film listing
  + if !filmo, then dont leave space empty, same for trailer
+ views/category
  + reverse chronology to regular chronology
+ season title, extra line space before
+ seasons css stronger (add yellow)
+ seasons just flashing
+ social-creative-network to be done in o-r-g
+ go to the archived website should be below the dates
+ pdf upload (to do with .user.ini, use .htaccess instead)
+ views/foot : social css on mobile
+ mailing list turn on
+ views/now-or-future
  when clicking thru days, should say "All"
  maybe even a state animation when switching spelling out the change
+ migration
  + database, sql dump I
  + downloaded to design.ica.o-r-g.net
    > curl -u i40718 -k https://icatest.tincan.co.uk/i40718/icaartdb.20180517_081113.tar.gz > icaartdb.20180517_081113.tar.gz
    > FKjYF3MMNzYMtE79
  + ran out of room on server, upgraded digital ocean
  + new droplet, ica-art which is ref'd by design.ica.art
  + *.ica.art certificate
    mantis requested and delivered
  + update local drupal database
  + database, sql dump II
  + o-r-g cant make new records on design.ica.o-r-g.net
    likely mysql user permissions issue
    actually was a missing php library php-mbstring
  + switch url thursday
  + spin down drupal-ica, test archive-ica
  + certificate change ssl apache config to 'ica.art' from 'design.ica.art'
    see _ssl.txt
  + add to calendar to renew cert 2020
    renew domain date add to calendar
+ police missing images, absolute urls
+ https://design.ica.art/learning portrait image (drupal)
x repeats artists film club entry aphraim (as AFC and FILMS)
  rm duplicates? can be done in views/docket or in drupal view
  drupal view is better (but should still show on /artists-film-club
+ ticketing/members url to https://ica.web.patronbase.co.uk
+ http://design.ica.local/on/films/liquid-sky-0
  missing the image corrected manually
+ image sources need to be rewritten to archive.ica.art from www.ica.art
  + faster way of doing this with str_replace instead of implode
+ fix redundant /exhibitions, /films, etc pages
/ views/docket error msg for mondays, show tmr should be relative not absolute
* rm redundant artists film clubs in views/docket
  factor out this code in to display_child
+ add venues to performance listings on views/detail
+ views/footer visit
+ /menu/3/bookstore -- major url overhaul!
+ clean up index (such as tickets, members)
+ views/category date logic
+ add .htaccess to git?
+ views/x-or-arrow
  + $token in views/menu and views/x-or-arrow
  + reworked only using $uri[]
  + menu js refactor
x views/date-picker
  + arrow left and arrow right dont work windows-chrome (pc chrome, ie 11)
  x loading animation based on local storage not cookies?
  x help?
+ clean up views/*
+ member pages are colored! wtf
+ logo-menu.js logo link home if menu showing
  logic a little fuzzy, need to think about it
  in the end, just links back to /?menu
+ firefox funders needs explicit width css
x views/detail show price
* views/date-picker timing, loading, browserstack
+ views/detail free events
+ bold to grey
+ lobby monitors
+ views/detail show -caption- in side column
  + email to michael about structured data names
  + cleanup, implement
+ browserstack
  + views/menu
    windows 10, explorer
    columns are centered
  + views/detail
    + trailers not working
      on Steve?s Optiplax 3040 PC running Windows 10.
+ stage newsletter resources on public url
+ views/category
  + move go to archive website after the dates
  + rm 18+ line
  + add bookstore text, visit the bookstore, browse the bookstore
    "Visit the ICA bookstore here"
  + switch order of columns in artists film club
+ staging.ica.art
  x illusion sizes
  + https://www.ica.art/dev/lobby/red-membership
    replace staging.ica.art local links? w/ www.ica.art/
+ views/resources
  + thumbnails / resources conflict resolve
+ archive.ica.art
  + redirect ticket sales to new site
  + hide new content on old site
+ views/docket
  + for now, showing all images
  + every film should have a film image, but no repeats
    the older the film, the further down the list the image appears
  + add Today / Reset to mobile
  x how to define the age of a film?
    refer to performances or run date, would have to process all at once
  x talks and learning image strategy remains as is
  + films no repeat images
  + rm random thumbs
  + exhibitions, films, events, live clickable
  + items fall off docket after they happen (except exhibitions)
  * order of exhibitions, talks & learning, live, films
    talks & learning appear ahead of films
  + spotter links to membership
  + artists film club boost to top (added boost() in views/children)
  + docket films to 3 days
  + add category-menu to views/docket
  x dev balls go to films, events, live, etc
  x /exhibitions to /on/exhibitions
+ views/detail-resources-json
  + refactor to use drupal -tags-
  + add drupal resources layout for drupal pages, images and pdfs
    https://archive.ica.art/node/60316/edit
    https://archive.ica.art/whats-on/artists-film-club-shen-xin-warm-spell
    https://www.ica.art/on/films/artists-film-club-shen-xin-warm-spell
  + sponsors logos, add spaces between logos if multiple
  + captions
  + type
  + include pdfs
  + cleanup
  + change '-credit-' to -caption- styling
+ default artists film club to show all past
+ hamburger menu
+ resources for all pages not just exhibitions
+ price range to views/detail-resources-json 
+ "buy tickets" --> "book tickets"
+ custom book now button links (drupal)
+ Artists' Film Club on its own line, with me to remove the
  duplications once it starts happening.
+ need a link to that Digital Ocean agreement 
+ /afc views/category to show all when click 2018
+ /afc, /exhibitions to file reverse chrono
+ artists film club curly apostrophe

x drupal migration debug
  + get rid of "unknown error" when pages are edited / saved
  + compare info.php
  + stage on debian server to match tincan
  + general cacheing of json feeds, can it be eliminated?
  + redirect dev.ica.art
  + drupal migration notes (digital-ocean.txt)
  x compare   http://icaart.tsadm.tincan.co.uk info.php
              https://archive.ica.art info.php
  + close down archive site so does not show updated
  + get rid of this from status report
    https://www.ica.art/admin/reports/status
    HTTP request status Fails (ufw firewall issue)
  + ufw firewall *is* enabled by default on d-o – installed ufw firewall when setting up Apache Solr
  x jquery validation? likely a red herring — installing may break invalid jquery javascript that TinCan used
  + SOLR search (on staging-archive-ica)
  x https://archive.ica.art/admin/reports/status
  x http://icaart.tsadm.tincan.co.uk/admin/reports/status
  x https://archive.ica.art/admin/reports/status/php
  x http://icaart.tsadm.tincan.co.uk/admin/reports/status/php
  + drupal backup regime -- cron? backup/migrate module
  + review cron and importing productions, performances
  x cron (low priority)
    # Patronbase imports
    45 23 * * * root drush --root=/home/tsadm/sites/ica/art/docroot/ --uri=default feeds-import productions --nid=64 --user=1 >>$LOGD/icarts_cron.log 2>&1
    55 23 * * * root drush --root=/home/tsadm/sites/ica/art/docroot/ --uri=default feeds-import performances --nid=95 --user=1 >>$LOGD/icarts_cron.log 2>&1
+ migration
  + turn off robots.txt
  + rm .htpassword authentication
  + spin down digital ocean droplets
  + clean up digital ocean droplets
  + cleanup archive.ica.o-r-g.com
  + turn on google analytics
  + dns to admin/hosting/dns.txt
  + digital ocean backups strategy
  + htaccess redirects, rewrites, url handling
  x load balancing?
  + bin/usr/local/icasync to update ica.local db & media/
  + views/json turn back on cache
  + add credit card to digital ocean
    set up a new account under david.reinfurt@ica.art
    will add a credit card to that account (having probs with that)
    make a snapshot of the ica droplet
    repoint the DNS
  + stoplayrecord.ica.art
  + close heroku acct
    deleted dev-ica app (so no more billing)
    ** AUG 1 ** need to wait until billing cycle is over to delete i-c-a team
     eric needs to delete a-graphic-design-exhibition as he is owner
+ AFC boosting reinstate (edit boost() in views/children)
+ boost time window >> 2 weeks for O-R-G (seasons) and AFC 
x it's also been commented, and i agree, that if you use the calendar to view
  specific dates, either with arrows or typing in a date, and then from there
  go to view a specific entry, when you return you automatically go back to
  today rather than the day you?ve been trying to look at specifically. this
  seems counterintuitive and would i think indeed be better if it returned to
  the selected date.
+ this is under the control of the PB Global web team ? Allie?s been 
  querying the options here. It might be better to remove links / redirect
  links on the old ICA site as opposed to the PB site ? is that plausible?
+ rm join, visit, sign up, arts council on docket, mv to /?menu 
+ banner == support the ICA, become a member (links to red membership page)
  > https://ica.art/?banner
+ datepicker, when go to a specific date, show ONLY that day. currently 
working for all but films
+ bill ICA for digital ocean pre-july 18
+ confirm ICA outstanding payments
+ search
  x integrate solr on ica.art
  + interface
  + results, faceting
  + solution 1, o-r-g + drupal
  + drupal
  + used module, https://www.drupal.org/project/views_argument_substitutions
  + new drupal view, /json-search with arguments matches title and body
  + o-r-g
+ ipad kiosk mode
+ views/category show season entry iff there are any season items in category
  even if season entry is in another category. may have to match on seasons 
  names and then query o-r-g to match that name then display
+ add $category_seasons parameter to display_child in views/children.php
  to show only seasons on category pages if prod is part of a season
  within that category
+ change films json to hide individual performances on docket
  (if !(publishing options > promote to home page))
+ possible to add a months OR MAYBE BETTER past/present (or 
  past/upcoming, or past/present/future ? nice!) that operates how the 
  month lists like AFC: https://www.ica.art/films/artists-film-club. so 
  same thing at foot of first column (say) here: https://www.ica.art/press
x i was just wondering if you could help me with something I am very 
  keen on to have it in a certain way. The dates next to each film. I 
  would love to never have an end date to the run as simply we never know 
  when we will stop programming any given film... is there a way that 
  allows us to implement it ? Thanks Nico
  *can* hide end dates, but they are still in drupal in order to appear
  or hide on /films by month
+ docket overhaul, rm dates, show only productions not performances
  done by leaving json feeds intact, hiding times and additional performances 
  if on same day. productions repeat if on additional days? 
  maybe shorter time horizon also or *only* show productions period
+ /films to horizontal layout such as, adjust to views/category (css only)
    1 2 3 4
    5 6 7 8 
    9 . . .
x links to black with underline
+ links with underlines
+ clean up staging.ica.art, merge to design branch  
/ Live typeface
x social media icons replace w/txt  
x year/month archive lists in a third column? 
+ ** calendar **
  + simple calendar interface using computer modern
  + js hide/show
  + highlight today
  + hrefs to days as /2018-08-06 (optional w/?calendar)
  + calendar css (background, padding)
  + cube calendar! like a chooser, click from the current date on docket
  x not sure what you?ve been thinking as regards the calendar, but for what
    it's worth it seems to me logical, in terms of retaining the basic idea and
    tinkering appropriately, that the calendar would ?simply? replace the day?s
    date at top centre of the laptop site, and then as first thing on phone,
    with that days? date selected as default (?) and options in proximity to
    ?view by week?, ?by month? or ?show all upcoming?
 + desktop show full calendar
+ ** docket cube **
  + category footers on views/docket "See all films ..."?
  x header to Institute of Contemporary Arts 
+ ** docket ladder **
  + repeat date when goes to new day
  + sticky date header
  / shrinking sticky date header
  + categories to end of ladder docket or under the dots
  + ladder calendar ** fix show repeating performances on the day ** 

+ ** open-records-generator **
  + users, roles
  + sponsor logos as database records which key on name1
    located in _Resources/Sponsors
  + records display order -- name1?
  x force plain txt paste .js in content-editable fields 
  x search
+ ** drupal database migration **
 + schema diagram mapping fields to fields
  + https://staging.ica.art/films/2018/october/climax
    https://staging.ica.art/open-records-generator/edit/films/2018/october/climax
    admin:dev1981$#
    main:dev1981$#
    guest:guest
  + seasons added as separate category
    keyed on name1 from individual records 
** digital ocean **
  + apache error.log
+ ** red membership **
  + google analytics, red membership banner
  + red membership *only* clickthrough page, all red? use text from signage
  x set up red membership a/b testing
x easier payment pages from stefan
  https://www.commonhouse.org.uk/friends/?fbclid=IwAR23Cp9e83b97F_Ct6O8DS4zzfXkHURm3nJbRjbAGr60rhy--CEVfdVnjl4
  https://donorbox.org/
  https://theintercept.com/donate/become-member-support?campaign=70146000000f6XP&noben=1&utm_source=The+Intercept+Newsletter&utm_campaign=6ed3f33557-EMAIL_CAMPAIGN_2018_11_10&utm_medium=email&utm_term=0_e00a5122d3-6ed3f33557-132051013
+ films (others) always show top entry in column in upcoming grid (boost!)
+ calendar icon to top right corner on docket or top left
+ centered grid layout views/docket, using breakpoints ** in process **
  clean up edge cases
+ clean up promoted mechanism in views/docket
+ calendar css (add font-size line-height to .calendar)
+ calendar icon function
x calendar *after* the highlights section
x side column menu
+ submenu top > mailing list
+ css side to black
x view trailer, hide trailer
+ views/docket '_Now' logic
+ '_Now' items read from category in o-r-g
+ from michael: also, I've noticed once a performance has finished (a 
single one) there is no longer a date on that page, which might not be 
too much of a problem, just personally I need it for things I do with 
occasional reports. I don't know if ORG can keep the dates in place 
afterwards.
+ views/docket
  + icasyncstaging
  + mysql fetch all items in o-r-g based on date range
  one query per date range, filtered on display
  + remove all dependencies on views/json 
  + query patronbase api to get performance times
  + using the patronbase api is detailed in /Users/reinfurt/Documents/
  Projects/ICA/ticketing/patronbase/_patronbase-notes.txt 
  + use wires.to = * twice to get back up to 'Films' (build_children_combined)
  likely a chain of mysql subqueries () or else recursively using an o-r-g 
  function *or* to traverse a particular category looking for matching dates
  x highlights rotate in multiple items for films, or live, etc.
  + one mysql query per category, returns array then processed as 
  $children ($roots added, etc)
  + in the end, *must* either 
    1. include performances in o-r-g
    * mysql query using LEFT JOIN or INNER JOIN
    2a. build a separate database for past api queries 
    2b. build a separate database for structured performances data    
    * api queries might more robustly backup and allow transition
  + resolution, two parallel paths: 
    1. o-r-g table "performances," with manual import from patronbase api
    2. patronbase api which allows past performances
  x add arbitrary depth querying to build_children_combined_deep
  * might still consider doing docket like servinglibrary w/ multi queries
    perhaps better, cleaner in the end
  - distinction between "highlights" and "daily program"
    text before each section, maybe appears and then fades in margin
    maybe sticks in top menu bar on scroll and/pr starts there for "featured"
  + show date ranges for _Now
+ padding under img home, elsewhere (.img-container)
+ calendar
  + button
  + css cleanup
+ css bottom sticky menu Exhibitions Films Talks Live
+ views/detail-resources
  x resources in 3rd column?
  + notes appear in column, other resources scatter below
  x other resources in 3rd column?
  x all body text in one div with <p> markup (in o-r-g)
  + code tidy up
  + add flashing season id 
+ views/submenu
  + css cleanup to adjust for presence or absence of X
  x filter location on category pages
  + cleanup, add view, get_all
  + correct href w/ depth
  + working on views/docket
+ views/search
+ views/category
  + show correct range of events ($archive, etc.)
    exhibitions -- all > 05-14-2017
    films -- month + upcoming (180 days)
    talks -- month + upcoming (180 days)
    live -- month + upcoming (180 days)
  + month, year filters
    + add stay open when selected with /2018-05 date argument
    + horizontal layout desktop
  + strip prefix
  + /artists-film-club
  + seasons flashing logic
  + linked records in o-r-g on staging
x mysql.local encoding
+ views/detail
  + merge to views/detail-resources
  x 1/2/3 column logic
  + clean up index, comments
+ open-records-generator 
  + logout --> master not just ICA branch
+ views/docket only shows four results per day
  but only for recent days, go back to dec 6 & ok
  might be a patronbase import or o-r-g thing
  http://www.ica.local/films/preview-1985
+ seasons
  + enforce same pattern as elsewhere in o-r-g
    so that seasons are parents w/ linked children
    which are their members
  + import existing seasons from o-r-g
  + rm production group (!) from o-r-g
x views/category-menu
x breadcrumbs menu
+ logos, social
+ open-rec-gen
  + copy ... button move to admin user
+ submenu to bottom on phone
+ Membership, Mailing List to ica.art
+ views/detail-resources
  + shift buy tickets button to column 2
+ calendar should work everywhere
+ views/category to multiple columns, small size
+ https://staging.ica.art/learning/gallery-tours-metahaven-version-history
  should have dates and times from patronbase
+ views/docket
  + seasons flashing
  + full entries should have year always
  + less space between rows
  + seasons appearing category & docket
  + load more (continue? more?)
+ views/category
  + seasons to show on views/category
  + /live should show a january event
    https://staging.ica.art/live/congregation-performance
  + link to about films for example
  + filter should not include 2017 but include 2019
    2018 should start at may
    adjust display_filter to take full date arg
+ views/season
  + new views/season
    + based on views/detail-resources (includes reasources)
    + plus views/category for returning the objects
  + file in reverse chron    
+ reverse order in /exhibitions
+ fix year in display_child (2019) for artists film club and live
+ lobby
+ views/category order by rank, begin, name1 *reverse* 
+ folding date header scroll
x update index seasons logic to apply to other seasons
x change order in _Highlights using rank
x click on Institute of Contemporary Arts to go to /about
+ artists film club 
  date filter not working correctly (likely to do with $archive)  
+ index logic clean up
+ review $base_url in views/docket /detail /category
  should it have leading slash in all?
x $o = get_by_url_final(end($uri)); 
  is brittle, would be better to get it by id
  but this requires rewriting config/url.php validation behavior
+ social media css mobile and desktop refine
+ browserstack
+ menu mobile css (categories come first)
x submenu position design adjust?
+ underline search, add mag glass rm X
+ calendar underline to match search
+ menu icon behavior after performing search
+ views/detail past performances iff !upcoming
+ calendar date centered w/ arrows 
+ menu re-org to include categories (colors?)
+ css sticking of category names
+ css sticking /membership and other menu items
+ css positioning of ICA name mobile
+ /about etc second column padding
+ date js (mobile) cursor fix
+ views/calendar future months '1' underlined bug
+ mobile .menu width css
+ .social css

* v2 launch *
+ review staging OPEN-RECORDS-GENERATOR and database to remove any 
absolute urls that include staging.ica.art/...
+ clean up git branches and remove all except: master, design, and v2
+ create a back up of the current ICA.ART site which includes copying 
the most recent version of the database AND media folder to STAGING 
under a folder titled 'v1 data'
+ rename design branch to v1 branch
+ review .htaccess
+ edit .htaccess on PRODUCTION to handle any redirections such as 
/on/...
+ copy .htaccess from STAGING to PRODUCTION and clean up any STAGING 
specific entries
+ copy media from STAGING to PRODUCTION
+ copy database from STAGING to PRODUCTION
+ switch branch on PRODUCTION to v2
+ mv ~/dothtaccess /var/www/html/.htaccess
* done *
+ hulliet staub films url issue linking to wrong season from individ pages
+ frames of representation page links
x url encode, decode (utf8 -- see views/detail)
x umlauts and special characters in url field
  https://staging.ica.art/films/lsff-2019-behind-the-wall-jurgen-buttcher
+ add living wage logo, adjust social media icons
x dropdown menu
+ open-records-generator catch all accents and diacritics
+ open-records-generator chronological filing of records by modified
+ open-records-generator link list file chronological by modified
+ revert bold from grey to actual bold
+ hide /books /editions on ica.art using /bookstore-dev-eefbb35d3abd35ca9417ed0e4770391f
and /editions-dev-973e49a57cf85681315c2a1bbcc61923
+ "All films are ad-free and 18+ unless otherwise stated. Groups are advised
to arrive early as seating is unallocated."
x stuart work laptop ip ica 172.20.24.71
x https://www.ica.art/support-the-ica headings, bulllet points
  replace with arrows
x upcoming / past distinction not enough
+ https://www.ica.art/films/for-shorts-1-q-a
  https://ica.art/films/for19/symposium-pluralising-representations
  Programme list, arrows, indents typography
  using .indent class
+ membership btn
+ turn on /bookstore, /editions spektrix
+ edit robots.txt, allow search for bookstore, editions
  see: > git show bbbece10d02db611398d645f2638070d96737b25
+ fix monday film exception for London Film Festival
  add ! as force display on mondays
+ segmented spektrix email signup
  see _notes in ICA folder on adriano.olivetti.local
  v 0.1!
+ fix spektrix iframe resizing
  https://integrate.spektrix.com/docs/QuickStart?_ga=2.250818944.743571385.1569234362-209870364.1569234362&utm_source=Spektrix%20Ltd&utm_medium=email&utm_campaign=10917928_Cookies%20update&utm_content=Resize%20iframes&dm_i=1E63,6I0BS,VI16U2,PTA9B,1#resizing-the-iframes
+ sell exhibition tix, set up as hidden records under specific exhbition 
then spektrix links
+ mysql performance
    > sudo service mysql status
    > sudo service mysql restart
using safari inspector, timeline -- definitely seems to be the mysql 
response time which is the issue comparing www.ica.art, staging.ica.art, 
www.ica.local. definitely the issue is in views/docket. problem is in 
populating the $seasons array which is VERY slow there is probably a way 
to either cache this or to speed up this process maybe check to see if 
anything is null for ex or copy array or other data structures in php. 
this cuts server request time to 1/4 of previous at least! and this is 
php not mysql so also great. works in views/docket-debug 
+ subdomain for webcomponents add custom-domain=”buy.ica.art”
+ find all refs to system.spekrtix.com and replace with buy.ica.art and 
edit on case by case basis 
    > grep --exclude='*.pyc' --exclude-dir='.git' -rinw . -e '<spektrix' 
+ php validate form:
    > https://www.w3schools.com/php/php_form_validation.asp
+ change url in o-r-g in signup to /signup (is currently /mailing-list
    > https://www.ica.art/open-records-generator/edit/menu/4/mailing-list
+ then be sure .htaccess has
    # Redirect 302 /signup /mailing-list
    # Redirect 302 /newsletter /mailing-list
    Redirect 302 /signup /sign-up
    Redirect 302 /mailing-list /sign-up
    Redirect 302 /newsletter /sign-up
+ automate highlights mechanism (default to next entry in calendar)
+ seems deleting in o-r-g always says linked elsewhere, for ex
    > https://www.ica.art/menu/2/join/red-membership-flash-sale-135
  this is expected behavior as all of exhibitions, films, learning, live
  are linked under menu/1
+ spektrix login and basket widget replacement
    > https://arts-mail.co.uk/t/1E63-6NSXY-05WOIFIO04/cr.aspx?v=0&utm_source=Spektrix%20Ltd&utm_medium=email&utm_campaign=11188206_Widget%20changes%20and%20cookies%20reminder&utm_content=web%20dev%20email&dm_i=1E63,6NSVI,W33X4R,QJU98,1
+ QA spektrix login and basket web components (using staging.ica.art)
+ fix search returning deleted results
+ merge git branch into v2? or start v3?
+ logrotate
  + confirm on www.ica.art
  + confirm on staging.ica.art
  useful guides:
    > https://www.digitalocean.com/community/tutorials/how-to-configure-logging-and-log-rotation-in-apache-on-an-ubuntu-vps
    > https://www.digitalocean.com/community/tutorials/how-to-manage-logfiles-with-logrotate-on-ubuntu-16-04 
  /etc/logrotate.conf is master
  /etc/logrotate.d/* are app-specific files including apache2
+ cron runs logrotate as cron.daily job as root which triggers a bash script 
    > see /etc/cron.daily/logrotate
  but this was throwing an error, which can be seen in 
    > /var/log/syslog
    > sudo grep CRON /var/log/syslog
  which returns 
    > Jan 27 16:39:01 ica-art CRON[26055]: Authentication token is no longer valid; new one required
  root password has expired (was deleted on setup, but expiration not set to never)
+ adjust root password aging with chage utility
    > sudo chage -l root
        Last password change                    : password must be changed
        Password expires                    : password must be changed
        Password inactive                   : password must be changed
        Account expires                     : never
        Minimum number of days between password change      : 0
        Maximum number of days between password change      : 14600
        Number of days of warning before password expires   : 14
  see https://serverfault.com/questions/351754/expired-authentication-token-for-user-with-deleted-password
    > sudo chage -d `date "+%F"` -E 2999-01-01 -I -1 -m 0 -M 999999 -W 31 root
        Last password change                    : Jan 27, 2020
        Password expires                    : never
        Password inactive                   : never
        Account expires                     : Jan 01, 2999
        Minimum number of days between password change      : 0
        Maximum number of days between password change      : 999999
        Number of days of warning before password expires   : 31
+ edit root crontab to confirm 
    > EDITOR=nano crontab -e
    or
    > select-editor
    > sudo crontab -e
+ cron
  + confirm om www.ica.art
  + confirm om staging.ica.art

- edit views/menu to work out links for bookstore and editions
  right now it is hardcoded in views/menu
/ menu bookstore and editions use exceptions to redirect 
  would it be better to link those categories under the menu? 
- search tweak (ordering? rank etc)
+ cycle through multiple items in highlights section
- cloudflare?
- resources used to randomly scale to one of two widths, meaning some 
are bigger than others and the space generally looks more populated (in 
a good way), but it seems all now scale small, e.g.:\\ 
https://www.ica.art/exhibitions/seth-price-circa-1981-archive/resources 
is that so, and if so can we change it, and if so maybe this gets added 
to the punchlist entry on ?resources float in all space, not just bottom 
right? or whatever it is.
/ convert resources area in views/detail to use entire width of page l & r
  does not work for all! maybe there is a smarter way to do this
/ increase video size in views/detail or increase both portrait and vid sizes
+ automate certbot *.ica.art renewal 
  see local _ssl.txt for details
+ add ICA closes banner
- in trying to search for theeeeeeees, https://ica.art/films/satantango, folks?ve noticed that doing a search for something that has
accents in the title doesn?t work. understandable, but can anything be done? pale yellow priority.

+ /sign-up add category via api to get new id, then add manual in markup
+ turnoff automate for highlights views/docket
x daily date range fix views/docket -- granularity is only by the day, not by 
  time on day. worth fixing site-wide? probably not as will mess up others
x daily urls fix -- these are working as expected /ica-daily/monday-23-march-2020
  should always use relative urls, such as here: http://www.ica.local/ica-daily
  (this is really a seasons page or possibly a series)
+ css yellow
+ computer modern bigger
+ change banner message
+ change banner message again
+ confirm and cleanup staging.ica.art ssl following ssl.txt
+ open-records-generator changee staging.ica.art to echo to www.ica.art

  /join
  > https://staging.ica.art/open-records-generator/edit/menu/2/join
  > https://staging.ica.art/open-records-generator/browse/menu/2/join/join-thank-you
  > https://staging.ica.art/open-records-generator/browse/menu/2/join/join-sorry

  >> https://www.ica.art/open-records-generator/edit/menu/2/join-staged
  >> https://www.ica.art/open-records-generator/browse/menu/2/join-staged/join-thank-you
  >> https://www.ica.art/open-records-generator/browse/menu/2/join-staged/join-sorry

  /donate
  > https://staging.ica.art/open-records-generator/browse/menu/2/donate
  > https://staging.ica.art/open-records-generator/browse/menu/2/donate/donate-thank-you
  > https://staging.ica.art/open-records-generator/browse/menu/2/donate/donate-sorry

  >> https://www.ica.art/open-records-generator/browse/menu/2/donate-staged
  >> https://www.ica.art/open-records-generator/browse/menu/2/donate-staged/donate-thank-you
  >> https://www.ica.art/open-records-generator/browse/menu/2/donate-staged/donate-sorry

  /sign-up
  > https://staging.ica.art/open-records-generator/browse/menu/4/sign-up/
  > https://staging.ica.art/open-records-generator/browse/menu/4/sign-up/sign-up-thank-you
  > https://staging.ica.art/open-records-generator/browse/menu/4/sign-up/sign-up-sorry

  >> https://www.ica.art/open-records-generator/browse/menu/4/sign-up-staged
  >> https://www.ica.art/open-records-generator/browse/menu/4/sign-up-staged/sign-up-thank-you
  >> https://www.ica.art/open-records-generator/browse/menu/4/sign-up-staged/sign-up-sorry

  // highlights
  > https://staging.ica.art/open-records-generator/browse/home/highlights/join-us
  > https://staging.ica.art/open-records-generator/browse/home/highlights/join-us/join

  >> https://www.ica.art/open-records-generator/browse/home/highlights/join-us-staged
  >> https://www.ica.art/open-records-generator/browse/home/highlights/join-us-staged/join

  // none exist on www.ica.art, nothing to change
  x https://staging.ica.art/open-records-generator/browse/menu/2/join/red/success
  x https://staging.ica.art/open-records-generator/browse/menu/2/join/red/cancel
  x https://staging.ica.art/open-records-generator/browse/menu/2/join/blue/success
  x https://staging.ica.art/open-records-generator/browse/menu/2/join/blue/cancel

  // nothing to change on www.ica.art
  x https://staging.ica.art/open-records-generator/browse/menu/2/support

    /*
  
    turning on stripe www.ica.art 
    dry-run on .local after running icasync
    remove '.' from name in 

    x   delete record
    >   old url to update
    >>  new url as updated
    .   rm '.' & '-staged' from name

    > https://www.ica.art/open-records-generator/edit/menu/2/join
    >> https://www.ica.art/open-records-generator/edit/menu/2/join-spektrix
    > https://www.ica.art/open-records-generator/edit/menu/2/join-staged
    >> https://www.ica.art/open-records-generator/edit/menu/2/join
    .

    > https://www.ica.art/open-records-generator/browse/menu/2/donate
    >> https://www.ica.art/open-records-generator/browse/menu/2/donate-spektrix
    > https://www.ica.art/open-records-generator/browse/menu/2/donate-staged
    >> https://www.ica.art/open-records-generator/browse/menu/2/donate
    .

    x https://www.ica.art/open-records-generator/browse/menu/4/sign-up
    > https://www.ica.art/open-records-generator/browse/menu/4/sign-up-staged
    >> https://www.ica.art/open-records-generator/browse/menu/4/sign-up
    .

    > https://www.ica.art/open-records-generator/browse/home/highlights/join-us-staged
    >> https://www.ica.art/open-records-generator/browse/home/highlights/join-us
    .

    */

+ sync staging.ica.art from www.ica.art
+ lockdown staging.ica.art/open-records-generator
+ *launch* stripe

+ o-r-g updates (from roadmap):
+ speed upgrade / overhaul
+ add special characters to interface instructions (ica)
+ weird html field space (wysiwig)(ica)
+ new field top menu items (small, indent) (wysiwig)(ica)
+ results paging mechanism (100 per) (wysiwig)(ica)
+ link refinement (filtering, order) (wysiwig)(ica)
+ remove field price range (ica)
x link multiple items (wysiwig)(ica)
x check if url already exists when adding
? new events sync order
+ add indent, small, and reset to wysiwyg editor (!)
+ merge ica --> master and cleanup
  delete wysiwig, now two clean branches with master being the master

+ fix grotesque
/  ICA daily 3-column

+ image enlargement
x floating resources in all space
+ true indents
+ yellow sign up button (spektrix)
- make sure archive.ica.art is mentioned in relevant places
- add more documentation images
- padding of image/resource captions
? live line space fix
? top menu to bottom on pone
+ submenu

+ fix views/stripe_checkout_pre remove js default parameter values 

/  v2-closed-stripe-cinema
+ "Cinema 3" under "3" of "menu"
+ ">Submenu" under "Cinema 3"
+ "About Cinema 3" under "Cinema 3"
+ ".opening-animation" under "Cinema 3"
- upload the gif at ".opening-animation"
+ add movies under "Cinema 3"
- for movies not on view, add "." at beginning of its name
+ https://www.ica.art/films/ica-cinema-3

